<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">
<head>
<meta charset="UTF-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=0">
<meta name="_csrf" th:content="${_csrf.token}"/>
<!-- default header name is X-CSRF-TOKEN -->
<meta name="_csrf_header" th:content="${_csrf.headerName}"/>
<title>Spittr</title>
<link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.5.0/css/bootstrap.min.css" integrity="sha384-9aIt2nRpC12Uk9gS9baDl411NQApFmC26EwAOH8WgZl5MYYxFfc+NcPb1dKGj7Sk" crossorigin="anonymous">
<link rel="stylesheet" type="text/css" th:href="@{/resources/style.css}">
</head>
<body>
    <div class="container-fluid">
        <div class="row float-right" sec:authorize="isAuthenticated()">
            <form class="form-inline" th:method="post" th:action="@{/logout}">
                <button type="submit" class="btn btn-primary mb-2">Submit</button>
            </form>
        </div>
        <div class="row justify-content-center align-items-center" style="height: 900px;">
            <div class="col-lg-3 col-xs-12">
                <h1>[[#{spittr.spitter.register}]]</h1>
                <form th:method="post" th:object="${spitter}" th:action="@{/spitter/register}">
                    <div class="form-group row" th:if="${#fields.hasErrors('*')}">
                        <ul>
                            <li th:each="err:${#fields.errors('*')}" th:text="${err}"></li>
                        </ul>
                    </div>
                    <div class="form-group row">
                        <label for="firstName" th:class="${#fields.hasErrors('firstName')} ? 'col-sm-3 col-form-label text-danger':'col-sm-3 col-form-label'">[[#{spittr.spitter.firstname}]]</label>
                        <div class="col-sm-9">
                            <input type="text" th:field="*{firstName}" th:class="${#fields.hasErrors('firstName')} ? 'form-control border-danger':'form-control'" placeholder="first name">
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="lastName" th:class="${#fields.hasErrors('lastName')} ? 'col-sm-3 col-form-label text-danger':'col-sm-3 col-form-label'">[[#{spittr.spitter.lastname}]]</label>
                        <div class="col-sm-9">
                            <input type="text" th:field="*{lastName}" th:class="${#fields.hasErrors('lastName')} ? 'form-control border-danger':'form-control'" placeholder="last name"/>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="username" th:class="${#fields.hasErrors('username')} ? 'col-sm-3 col-form-label text-danger':'col-sm-3 col-form-label'">[[#{spittr.spitter.username}]]</label>
                        <div class="col-sm-9">
                            <input type="text" th:field="*{username}" th:class="${#fields.hasErrors('username')} ? 'form-control border-danger':'form-control'" placeholder="username"/>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="password" th:class="${#fields.hasErrors('password')} ? 'col-sm-3 col-form-label text-danger':'col-sm-3 col-form-label'">[[#{spittr.spitter.password}]]</label>
                        <div class="col-sm-9">
                            <input type="password" th:field="*{password}" th:class="${#fields.hasErrors('password')} ? 'form-control border-danger':'form-control'" placeholder="password"/>
                        </div>
                    </div>
                    <div class="form-group row">
                        <label for="email" th:class="${#fields.hasErrors('email')} ? 'col-sm-3 col-form-label text-danger':'col-sm-3 col-form-label'">[[#{spittr.spitter.email}]]</label>
                        <div class="col-sm-9">
                            <input type="email" th:field="*{email}" th:class="${#fields.hasErrors('email')} ? 'form-control border-danger':'form-control'" placeholder="name@example.com"/>
                        </div>
                    </div>
                    <div class="form-group">
                        <button type="submit" class="btn btn-primary offset-md-3">[[#{spittr.submit}]]</button>
                        <button type="reset" class="btn btn-secondary offset-md-1">[[#{spittr.reset}]]</button>
                        <!-- 分析对比html form 表单乱码原因  -->
                        <!-- <button type="button" class="btn btn-default aaa">测试</button> -->
                        
                    </div>
                </form>
                
            </div>
        </div>
    </div>
</body>
</html>